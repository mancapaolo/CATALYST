<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Bead-based normalization — normCytof • CATALYST</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Bead-based normalization — normCytof" />

<meta property="og:description" content="an implementation of Finck et al.'s normalization of mass cytometry data 
using bead standards with automated bead gating." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-54095998-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-54095998-3');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CATALYST</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Release version">1.5.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Documentation</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/differential_analysis.html">Differential analysis with CATALYST</a>
    </li>
    <li>
      <a href="../articles/preprocessing.html">Preprocessing with CATALYST</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/HelenaLC/CATALYST">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://www.imls.uzh.ch/en/research/robinson.html">Robinson Lab</a>
</li>
<li>
  <a href="http://www.bodenmillerlab.org">Bodenmiller Lab</a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Bead-based normalization</h1>
    <small class="dont-index">Source: <a href='https://github.com/HelenaLC/CATALYST/blob/master/R/AllGenerics.R'><code>R/AllGenerics.R</code></a>, <a href='https://github.com/HelenaLC/CATALYST/blob/master/R/normCytof.R'><code>R/normCytof.R</code></a></small>
    <div class="hidden name"><code>normCytof.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>an implementation of Finck et al.'s normalization of mass cytometry data 
using bead standards with automated bead gating.</p>
    
    </div>

    <pre class="usage"><span class='fu'>normCytof</span>(<span class='no'>x</span>, <span class='no'>y</span>, <span class='no'>...</span>)

<span class='co'># S4 method for flowFrame</span>
<span class='fu'>normCytof</span>(<span class='no'>x</span>, <span class='no'>y</span>, <span class='kw'>out_path</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>remove_beads</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>norm_to</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>500</span>, <span class='kw'>trim</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>plot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># S4 method for character</span>
<span class='fu'>normCytof</span>(<span class='no'>x</span>, <span class='no'>y</span>, <span class='kw'>out_path</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>remove_beads</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>norm_to</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>500</span>, <span class='kw'>trim</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a <code>flowFrame</code> or character of the FCS file to be normalized.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p><code>"dvs"</code> (for bead masses 140, 151, 153, 165, 175) or <code>"beta"</code> 
(for bead masses 139, 141, 159, 169, 175) or a numeric vector of bead masses.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>optional arguments.</p></td>
    </tr>
    <tr>
      <th>out_path</th>
      <td><p>a character string. If specified, outputs will be generated here. If NULL
(the default), <code>normCytof</code> will return a <code>flowFrame</code> of 
the normalized data (if <code>remove=FALSE</code>) or a <code>flowSet</code> 
containing normalized cells and beads (if <code>remove=TRUE</code>).</p></td>
    </tr>
    <tr>
      <th>remove_beads</th>
      <td><p>logical. If TRUE (the default) beads will be removed and 
normalized cells and beads returned separately.</p></td>
    </tr>
    <tr>
      <th>norm_to</th>
      <td><p>a <code>flowFrame</code> or character of an FCS file from which baseline 
values should be computed and to which the input data should be normalized.</p></td>
    </tr>
    <tr>
      <th>k</th>
      <td><p>integer width of the median window used for bead smoothing.</p></td>
    </tr>
    <tr>
      <th>trim</th>
      <td><p>a single non-negative numeric. A <em>median</em> +/- ... <em>mad</em> rule is
applied to the preliminary population of bead events to remove bead-bead 
doublets and low signal beads prior to estimating normalization factors.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical. Should extra information on progress be reported?</p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>logical. Should bead vs. DNA scatters and beads 
before vs. after normalization be plotted?</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>if <code>out_path=NULL</code> (the default) a <code>flowFrame</code> of the 
normalized data (if <code>remove=FALSE</code>) or <code>flowSet</code> containing 
normalized cells and beads (if <code>remove=TRUE</code>). Else, a character of the 
location where output FCS files and plots have been generated.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Finck, R. et al. (2013).
Normalization of mass cytometry data with bead standards.
<em>Cytometry A</em> <b>83A</b>, 483-494.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='data.html'>data</a></span>(<span class='no'>raw_data</span>)
<span class='no'>ff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='concatFCS.html'>concatFCS</a></span>(<span class='no'>raw_data</span>)
<span class='fu'>normCytof</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>ff</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='st'>"dvs"</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>120</span>)</div><div class='output co'>#&gt; <span class='message'>Identifying beads...</span></div><div class='output co'>#&gt; <span class='message'>Computing normalization factors...</span></div><div class='img'><img src='normCytof-1.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; A flowSet with 2 experiments.
#&gt; 
#&gt;   column names:
#&gt;   Time Event_length Y89Di Ru96Di Ru98Di Ru99Di Ru100Di Ru101Di Ru102Di Rh103Di Ru104Di Pd105Di Pd106Di Pd108Di Pd110Di In113Di In115Di Sn120Di Ba138Di La139Di Ce140Di Pr141Di Nd142Di Nd143Di Nd144Di Nd145Di Nd146Di Sm147Di Nd148Di Sm149Di Nd150Di Eu151Di Sm152Di Eu153Di Sm154Di Gd155Di Gd156Di Gd157Di Gd158Di Tb159Di Gd160Di Dy161Di Dy162Di Dy163Di Dy164Di Ho165Di Er166Di Er167Di Er168Di Tm169Di Er170Di Yb171Di Yb172Di Yb173Di Yb174Di Lu175Di Yb176Di Ir191Di Ir193Di Pt194Di Pt195Di Pb208Di Bi209Di Center Offset Width Residual</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Helena Lucia Crowell <a href='mailto:crowellh@student.ethz.ch'>crowellh@student.ethz.ch</a>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Helena L. Crowell, Vito R.T. Zanotelli, Stéphane Chevrier, Mark D. Robinson, Bernd Bodenmiller.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

